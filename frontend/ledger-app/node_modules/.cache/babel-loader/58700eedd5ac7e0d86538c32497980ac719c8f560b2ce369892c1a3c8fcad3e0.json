{"ast":null,"code":"var _jsxFileName = \"/Users/bromodachi/Development/degica_project/frontend/ledger-app/src/routes/Ledgers.tsx\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport Paper from \"@mui/material/Paper\";\nimport Table from \"@mui/material/Table\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableBody from \"@mui/material/TableBody\";\nimport * as React from \"react\";\nimport { Component } from \"react\";\nimport { Ledger } from \"../model/Ledger\";\nimport axios from \"axios\";\nimport axiosRetry from \"axios-retry\";\nimport Backdrop from \"@mui/material/Backdrop\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Button from \"@mui/material/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class LedgersList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      ledgers: [],\n      isLoading: false,\n      idsSeen: []\n    };\n  }\n  setLedgers(ledgers) {\n    if (ledgers.length > 0) {\n      this.state.idsSeen.push(ledgers[ledgers.length - 1].id);\n    }\n    this.setState({\n      isLoading: false,\n      ledgers: ledgers\n    });\n  }\n  componentDidMount() {\n    this.getData(false);\n  }\n  async getData(isPrevious) {\n    if (this.state.idsSeen.length > 0) {\n      if (isPrevious) {\n        this.state.idsSeen.pop();\n      }\n    }\n    axiosRetry(axios, {\n      retries: 3\n    });\n    let lastIdSeen;\n    if (this.state.idsSeen.length == 0) {\n      lastIdSeen = null;\n    } else {\n      lastIdSeen = this.state.idsSeen[this.state.idsSeen.length - 1];\n    }\n    console.log(\"lastIdSeen: \" + lastIdSeen);\n    axios.get(\"http://localhost:8080/ledger\", {\n      params: {\n        lastId: lastIdSeen,\n        limit: 10\n      }\n    }).then(response => {\n      const json = response.data;\n      const ledgers = json.map(value => {\n        return new Ledger(value.id, value.name);\n      });\n      this.setLedgers(ledgers);\n    }).catch(error => {\n      alert(\"We couldn't load the invoices. Please reload the page to try again\");\n      console.error(error);\n      this.setState({\n        isLoading: false\n      });\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Backdrop, {\n        sx: {\n          color: '#fff',\n          zIndex: theme => theme.zIndex.drawer + 1\n        },\n        open: this.state.isLoading,\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n          color: \"inherit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n        component: Paper,\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          sx: {\n            minWidth: 650\n          },\n          \"aria-label\": \"simple table\",\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                children: \"Datetime\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: this.state.ledgers.map((row, index) => /*#__PURE__*/_jsxDEV(TableRow, {\n              sx: {\n                '&:last-child td, &:last-child th': {\n                  border: 0\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                component: \"th\",\n                scope: \"row\",\n                children: row.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                children: row.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 37\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"text\",\n        onClick: () => {\n          this.getData(true);\n        },\n        children: \"Previous\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"text\",\n        onClick: () => {\n          this.getData(false);\n        },\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["TableContainer","Paper","Table","TableHead","TableRow","TableCell","TableBody","React","Component","Ledger","axios","axiosRetry","Backdrop","CircularProgress","Button","jsxDEV","_jsxDEV","LedgersList","constructor","args","state","ledgers","isLoading","idsSeen","setLedgers","length","push","id","setState","componentDidMount","getData","isPrevious","pop","retries","lastIdSeen","console","log","get","params","lastId","limit","then","response","json","data","map","value","name","catch","error","alert","render","children","sx","color","zIndex","theme","drawer","open","fileName","_jsxFileName","lineNumber","columnNumber","component","minWidth","align","row","index","border","scope","variant","onClick"],"sources":["/Users/bromodachi/Development/degica_project/frontend/ledger-app/src/routes/Ledgers.tsx"],"sourcesContent":["import TableContainer from \"@mui/material/TableContainer\";\nimport Paper from \"@mui/material/Paper\";\nimport Table from \"@mui/material/Table\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableBody from \"@mui/material/TableBody\";\nimport * as React from \"react\";\nimport {Component} from \"react\";\nimport {Ledger} from \"../model/Ledger\";\nimport axios from \"axios\";\nimport axiosRetry from \"axios-retry\";\nimport Backdrop from \"@mui/material/Backdrop\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Button from \"@mui/material/Button\";\nimport LedgerDetailTable from \"../components/LedgerDetailTable\";\n\nexport class LedgersList extends Component {\n\n    state: {ledgers: Ledger[], isLoading: boolean, idsSeen: number[]} = {\n        ledgers: [],\n        isLoading: false,\n        idsSeen: []\n    }\n\n    setLedgers(ledgers: Ledger[]) {\n\n        if (ledgers.length > 0) {\n            this.state.idsSeen.push(ledgers[ledgers.length - 1].id as number)\n        }\n        this.setState({\n            isLoading: false,\n            ledgers: ledgers,\n        });\n    }\n\n    componentDidMount() {\n        this.getData(false)\n    }\n\n    async getData(isPrevious: Boolean) {\n        if (this.state.idsSeen.length > 0) {\n            if (isPrevious) {\n                this.state.idsSeen.pop()\n            }\n        }\n        axiosRetry(axios, { retries: 3});\n        let lastIdSeen\n        if (this.state.idsSeen.length == 0) {\n            lastIdSeen = null\n        }\n        else {\n            lastIdSeen = this.state.idsSeen[this.state.idsSeen.length - 1]\n        }\n        console.log(\"lastIdSeen: \" + lastIdSeen);\n        axios.get(\"http://localhost:8080/ledger\" , { params: { lastId : lastIdSeen, limit: 10}}).then((response) => {\n            const json = response.data;\n            const ledgers = json.map((value: any) => {\n                return new Ledger(value.id, value.name)\n            })\n            this.setLedgers(ledgers)\n        }).catch((error) => {\n            alert(\"We couldn't load the invoices. Please reload the page to try again\")\n            console.error(error)\n            this.setState({\n                isLoading: false\n            });\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <Backdrop\n                    sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\n                    open={this.state.isLoading}\n                >\n                    <CircularProgress color=\"inherit\" />\n                </Backdrop>\n                <TableContainer component={Paper}>\n                    <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Amount</TableCell>\n                                <TableCell align=\"left\">Description</TableCell>\n                                <TableCell align=\"left\">Datetime</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {this.state.ledgers.map((row, index) => (\n                                <TableRow\n                                    key={index}\n                                    sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                                >\n                                    <TableCell component=\"th\" scope=\"row\">\n                                        {row.id}\n                                    </TableCell>\n                                    <TableCell align=\"left\">{row.name}</TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <Button variant=\"text\" onClick={() => {\n                    this.getData(true)\n                }}>Previous</Button>\n                <Button variant=\"text\"  onClick={() => {\n                    this.getData(false)\n                }}>Next</Button>\n            </div>\n        );\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}